<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.16"><title>nelpy.plotting.graph - nelpy</title><link rel=stylesheet href=../../../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../stylesheets/extra.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#nelpy.plotting.graph class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=nelpy class="md-header__button md-logo" aria-label=nelpy data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> nelpy </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> nelpy.plotting.graph </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=light data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=blue aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/nelpy/nelpy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> nelpy/nelpy </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../core/eventarray/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../../../tutorials/GettingStarted/ class=md-tabs__link> Tutorials </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=nelpy class="md-nav__button md-logo" aria-label=nelpy data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> nelpy </label> <div class=md-nav__source> <a href=https://github.com/nelpy/nelpy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> nelpy/nelpy </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../core/eventarray/ class=md-nav__link> <span class=md-ellipsis> EventArray </span> </a> </li> <li class=md-nav__item> <a href=../../../core/analogsignalarray/ class=md-nav__link> <span class=md-ellipsis> AnalogSignalArray </span> </a> </li> <li class=md-nav__item> <a href=../../../core/intervalarray/ class=md-nav__link> <span class=md-ellipsis> IntervalArray </span> </a> </li> <li class=md-nav__item> <a href=../../../core/valeventarray/ class=md-nav__link> <span class=md-ellipsis> ValeventArray </span> </a> </li> <li class=md-nav__item> <a href=../../../core/coordinates/ class=md-nav__link> <span class=md-ellipsis> Coordinates </span> </a> </li> <li class=md-nav__item> <a href=../../../analysis/ class=md-nav__link> <span class=md-ellipsis> Analysis </span> </a> </li> <li class=md-nav__item> <a href=../../../auxiliary/ class=md-nav__link> <span class=md-ellipsis> Auxiliary </span> </a> </li> <li class=md-nav__item> <a href=../../../decoding/ class=md-nav__link> <span class=md-ellipsis> Decoding </span> </a> </li> <li class=md-nav__item> <a href=../../../plotting/ class=md-nav__link> <span class=md-ellipsis> Plotting </span> </a> </li> <li class=md-nav__item> <a href=../../../utils/ class=md-nav__link> <span class=md-ellipsis> Utilities </span> </a> </li> <li class=md-nav__item> <a href=../../../estimators/ class=md-nav__link> <span class=md-ellipsis> Estimators </span> </a> </li> <li class=md-nav__item> <a href=../../../filtering/ class=md-nav__link> <span class=md-ellipsis> Filtering </span> </a> </li> <li class=md-nav__item> <a href=../../../preprocessing/ class=md-nav__link> <span class=md-ellipsis> Preprocessing </span> </a> </li> <li class=md-nav__item> <a href=../../../hmmutils/ class=md-nav__link> <span class=md-ellipsis> HMM Utils </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tutorials/GettingStarted/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../../tutorials/AnalogSignalArrayTutorial/ class=md-nav__link> <span class=md-ellipsis> AnalogSignalArray Tutorial </span> </a> </li> <li class=md-nav__item> <a href=../../../../tutorials/EpochArrayTutorial/ class=md-nav__link> <span class=md-ellipsis> EpochArray Tutorial </span> </a> </li> <li class=md-nav__item> <a href=../../../../tutorials/LinearTrackDemo/ class=md-nav__link> <span class=md-ellipsis> Linear Track Demo </span> </a> </li> <li class=md-nav__item> <a href=../../../../tutorials/SpikeTrainSmoothing/ class=md-nav__link> <span class=md-ellipsis> SpikeTrain Smoothing </span> </a> </li> <li class=md-nav__item> <a href=../../../../tutorials/plotting/ class=md-nav__link> <span class=md-ellipsis> plotting </span> </a> </li> <li class=md-nav__item> <a href=../../../../tutorials/WMazeDemo/ class=md-nav__link> <span class=md-ellipsis> WMaze Demo </span> </a> </li> <li class=md-nav__item> <a href=../../../../tutorials/BackyardBrainsEEG/ class=md-nav__link> <span class=md-ellipsis> Backyard Brains EEG </span> </a> </li> <li class=md-nav__item> <a href=../../../../tutorials/develop/ class=md-nav__link> <span class=md-ellipsis> develop </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#nelpy.plotting.graph class=md-nav__link> <span class=md-ellipsis> graph </span> </a> </li> <li class=md-nav__item> <a href=#nelpy.plotting.graph.circular_layout class=md-nav__link> <span class=md-ellipsis> circular_layout </span> </a> </li> <li class=md-nav__item> <a href=#nelpy.plotting.graph.double_circular_layout class=md-nav__link> <span class=md-ellipsis> double_circular_layout </span> </a> </li> <li class=md-nav__item> <a href=#nelpy.plotting.graph.draw_transmat_graph class=md-nav__link> <span class=md-ellipsis> draw_transmat_graph </span> </a> </li> <li class=md-nav__item> <a href=#nelpy.plotting.graph.draw_transmat_graph_inner class=md-nav__link> <span class=md-ellipsis> draw_transmat_graph_inner </span> </a> </li> <li class=md-nav__item> <a href=#nelpy.plotting.graph.draw_transmat_graph_outer class=md-nav__link> <span class=md-ellipsis> draw_transmat_graph_outer </span> </a> </li> <li class=md-nav__item> <a href=#nelpy.plotting.graph.graph_from_transmat class=md-nav__link> <span class=md-ellipsis> graph_from_transmat </span> </a> </li> <li class=md-nav__item> <a href=#nelpy.plotting.graph.inner_graph_from_transmat class=md-nav__link> <span class=md-ellipsis> inner_graph_from_transmat </span> </a> </li> <li class=md-nav__item> <a href=#nelpy.plotting.graph.outer_graph_from_transmat class=md-nav__link> <span class=md-ellipsis> outer_graph_from_transmat </span> </a> </li> <li class=md-nav__item> <a href=#nelpy.plotting.graph.rescale_layout class=md-nav__link> <span class=md-ellipsis> rescale_layout </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/nelpy/nelpy/edit/master/docs/nelpy/plotting/graph.py title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/nelpy/nelpy/raw/master/docs/nelpy/plotting/graph.py title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1>nelpy.plotting.graph</h1> <div class="doc doc-object doc-module"> <a id=nelpy.plotting.graph></a> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h2 id=nelpy.plotting.graph.circular_layout class="doc doc-heading"> <code class="highlight language-python"><span class=n>circular_layout</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>center</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>dim</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;CCW&#39;</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Position nodes on a circle.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>G</code> </td> <td> <code><span title=networkx.Graph>Graph</span> or <span title=list>list</span></code> </td> <td> <div class=doc-md-description> <p>The graph or list of nodes.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>scale</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Scale factor for positions (default is 1).</p> </div> </td> <td> <code>1</code> </td> </tr> <tr class=doc-section-item> <td> <code>center</code> </td> <td> <code><span title=array>array</span> - <span title=like>like</span> or None</code> </td> <td> <div class=doc-md-description> <p>Coordinate pair around which to center the layout (default is None).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>dim</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Dimension of layout, currently only dim=2 is supported (default is 2).</p> </div> </td> <td> <code>2</code> </td> </tr> <tr class=doc-section-item> <td> <code>direction</code> </td> <td> <code>(<span title=CCW>CCW</span>, <span title=CW>CW</span>)</code> </td> <td> <div class=doc-md-description> <p>Direction of node placement (default is 'CCW').</p> </div> </td> <td> <code>&#39;CCW&#39;</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>pos</code></td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>A dictionary of positions keyed by node.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>G</span> <span class=o>=</span> <span class=n>nx</span><span class=o>.</span><span class=n>path_graph</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>pos</span> <span class=o>=</span> <span class=n>circular_layout</span><span class=p>(</span><span class=n>G</span><span class=p>)</span>
</code></pre></div> <details class=note open> <summary>Notes</summary> <p>This algorithm currently only works in two dimensions and does not try to minimize edge crossings.</p> </details> <details class=quote> <summary>Source code in <code>nelpy/plotting/graph.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>circular_layout</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>center</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>dim</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s2>&quot;CCW&quot;</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Position nodes on a circle.</span>

<span class=sd>    Parameters</span>
<span class=sd>    ----------</span>
<span class=sd>    G : networkx.Graph or list</span>
<span class=sd>        The graph or list of nodes.</span>
<span class=sd>    scale : float, optional</span>
<span class=sd>        Scale factor for positions (default is 1).</span>
<span class=sd>    center : array-like or None, optional</span>
<span class=sd>        Coordinate pair around which to center the layout (default is None).</span>
<span class=sd>    dim : int, optional</span>
<span class=sd>        Dimension of layout, currently only dim=2 is supported (default is 2).</span>
<span class=sd>    direction : {&#39;CCW&#39;, &#39;CW&#39;}, optional</span>
<span class=sd>        Direction of node placement (default is &#39;CCW&#39;).</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    pos : dict</span>
<span class=sd>        A dictionary of positions keyed by node.</span>

<span class=sd>    Examples</span>
<span class=sd>    --------</span>
<span class=sd>    &gt;&gt;&gt; G = nx.path_graph(4)</span>
<span class=sd>    &gt;&gt;&gt; pos = circular_layout(G)</span>

<span class=sd>    Notes</span>
<span class=sd>    -----</span>
<span class=sd>    This algorithm currently only works in two dimensions and does not</span>
<span class=sd>    try to minimize edge crossings.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>G</span><span class=p>,</span> <span class=n>center</span> <span class=o>=</span> <span class=n>_process_params</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>center</span><span class=p>,</span> <span class=n>dim</span><span class=p>)</span>

    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>G</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
        <span class=n>pos</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=k>elif</span> <span class=nb>len</span><span class=p>(</span><span class=n>G</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
        <span class=n>pos</span> <span class=o>=</span> <span class=p>{</span><span class=n>nx</span><span class=o>.</span><span class=n>utils</span><span class=o>.</span><span class=n>arbitrary_element</span><span class=p>(</span><span class=n>G</span><span class=p>):</span> <span class=n>center</span><span class=p>}</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=c1># Discard the extra angle since it matches 0 radians.</span>
        <span class=n>theta</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>G</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)[:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>pi</span>
        <span class=n>theta</span> <span class=o>=</span> <span class=n>theta</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>float32</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>direction</span> <span class=o>==</span> <span class=s2>&quot;CCW&quot;</span><span class=p>:</span>
            <span class=n>pos</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>column_stack</span><span class=p>([</span><span class=n>np</span><span class=o>.</span><span class=n>cos</span><span class=p>(</span><span class=n>theta</span><span class=p>),</span> <span class=n>np</span><span class=o>.</span><span class=n>sin</span><span class=p>(</span><span class=n>theta</span><span class=p>)])</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>pos</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>column_stack</span><span class=p>([</span><span class=n>np</span><span class=o>.</span><span class=n>sin</span><span class=p>(</span><span class=n>theta</span><span class=p>),</span> <span class=n>np</span><span class=o>.</span><span class=n>cos</span><span class=p>(</span><span class=n>theta</span><span class=p>)])</span>
        <span class=n>pos</span> <span class=o>=</span> <span class=n>rescale_layout</span><span class=p>(</span><span class=n>pos</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=n>scale</span><span class=p>)</span> <span class=o>+</span> <span class=n>center</span>
        <span class=n>pos</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=nb>zip</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>pos</span><span class=p>))</span>

    <span class=k>return</span> <span class=n>pos</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=nelpy.plotting.graph.double_circular_layout class="doc doc-heading"> <code class="highlight language-python"><span class=n>double_circular_layout</span><span class=p>(</span><span class=n>Gi</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>center</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>dim</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s1>&#39;CCW&#39;</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Create a double circular layout for a graph, with inner and outer circles.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>Gi</code> </td> <td> <code><span title=networkx.Graph>Graph</span></code> </td> <td> <div class=doc-md-description> <p>The graph to layout.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>scale</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Scale factor for the inner circle (default is 1).</p> </div> </td> <td> <code>1</code> </td> </tr> <tr class=doc-section-item> <td> <code>center</code> </td> <td> <code><span title=array>array</span> - <span title=like>like</span> or None</code> </td> <td> <div class=doc-md-description> <p>Center of the layout (default is None).</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>dim</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Dimension of layout (default is 2).</p> </div> </td> <td> <code>2</code> </td> </tr> <tr class=doc-section-item> <td> <code>direction</code> </td> <td> <code>(<span title=CCW>CCW</span>, <span title=CW>CW</span>)</code> </td> <td> <div class=doc-md-description> <p>Direction of node placement (default is 'CCW').</p> </div> </td> <td> <code>&#39;CCW&#39;</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>npos</code></td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Dictionary of node positions keyed by node.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>nelpy/plotting/graph.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>double_circular_layout</span><span class=p>(</span><span class=n>Gi</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>center</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>dim</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s2>&quot;CCW&quot;</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Create a double circular layout for a graph, with inner and outer circles.</span>

<span class=sd>    Parameters</span>
<span class=sd>    ----------</span>
<span class=sd>    Gi : networkx.Graph</span>
<span class=sd>        The graph to layout.</span>
<span class=sd>    scale : float, optional</span>
<span class=sd>        Scale factor for the inner circle (default is 1).</span>
<span class=sd>    center : array-like or None, optional</span>
<span class=sd>        Center of the layout (default is None).</span>
<span class=sd>    dim : int, optional</span>
<span class=sd>        Dimension of layout (default is 2).</span>
<span class=sd>    direction : {&#39;CCW&#39;, &#39;CW&#39;}, optional</span>
<span class=sd>        Direction of node placement (default is &#39;CCW&#39;).</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    npos : dict</span>
<span class=sd>        Dictionary of node positions keyed by node.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>inner</span> <span class=o>=</span> <span class=n>circular_layout</span><span class=p>(</span>
        <span class=n>Gi</span><span class=p>,</span> <span class=n>center</span><span class=o>=</span><span class=n>center</span><span class=p>,</span> <span class=n>dim</span><span class=o>=</span><span class=n>dim</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=n>scale</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=n>direction</span>
    <span class=p>)</span>
    <span class=n>outer</span> <span class=o>=</span> <span class=n>circular_layout</span><span class=p>(</span>
        <span class=n>Gi</span><span class=p>,</span> <span class=n>center</span><span class=o>=</span><span class=n>center</span><span class=p>,</span> <span class=n>dim</span><span class=o>=</span><span class=n>dim</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=n>scale</span> <span class=o>*</span> <span class=mf>1.3</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=n>direction</span>
    <span class=p>)</span>

    <span class=n>num_states</span> <span class=o>=</span> <span class=n>Gi</span><span class=o>.</span><span class=n>number_of_nodes</span><span class=p>()</span>

    <span class=n>npos</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>outer</span><span class=o>.</span><span class=n>keys</span><span class=p>():</span>
        <span class=n>npos</span><span class=p>[</span><span class=n>k</span> <span class=o>+</span> <span class=n>num_states</span><span class=p>]</span> <span class=o>=</span> <span class=n>outer</span><span class=p>[</span><span class=n>k</span><span class=p>]</span>

    <span class=n>npos</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>inner</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>npos</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=nelpy.plotting.graph.draw_transmat_graph class="doc doc-heading"> <code class="highlight language-python"><span class=n>draw_transmat_graph</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>edge_threshold</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>lw</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>ec</span><span class=o>=</span><span class=s1>&#39;0.2&#39;</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=mi>15</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Draw a transition matrix as a circular graph.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>G</code> </td> <td> <code><span title=networkx.Graph>Graph</span></code> </td> <td> <div class=doc-md-description> <p>The graph to draw, with edge weights as transition probabilities.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>edge_threshold</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Edges with weights below this value are not drawn (default is 0).</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>lw</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Line width scaling for edges (default is 1).</p> </div> </td> <td> <code>1</code> </td> </tr> <tr class=doc-section-item> <td> <code>ec</code> </td> <td> <code><span title=color>color</span></code> </td> <td> <div class=doc-md-description> <p>Edge color (default is '0.2').</p> </div> </td> <td> <code>&#39;0.2&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>node_size</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Size of the nodes (default is 15).</p> </div> </td> <td> <code>15</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>ax</code></td> <td> <code><span title=matplotlib.axes.Axes>Axes</span></code> </td> <td> <div class=doc-md-description> <p>The axis with the graph plot.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>nelpy/plotting/graph.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>draw_transmat_graph</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>edge_threshold</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>lw</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>ec</span><span class=o>=</span><span class=s2>&quot;0.2&quot;</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=mi>15</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Draw a transition matrix as a circular graph.</span>

<span class=sd>    Parameters</span>
<span class=sd>    ----------</span>
<span class=sd>    G : networkx.Graph</span>
<span class=sd>        The graph to draw, with edge weights as transition probabilities.</span>
<span class=sd>    edge_threshold : float, optional</span>
<span class=sd>        Edges with weights below this value are not drawn (default is 0).</span>
<span class=sd>    lw : float, optional</span>
<span class=sd>        Line width scaling for edges (default is 1).</span>
<span class=sd>    ec : color, optional</span>
<span class=sd>        Edge color (default is &#39;0.2&#39;).</span>
<span class=sd>    node_size : int, optional</span>
<span class=sd>        Size of the nodes (default is 15).</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    ax : matplotlib.axes.Axes</span>
<span class=sd>        The axis with the graph plot.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>num_states</span> <span class=o>=</span> <span class=n>G</span><span class=o>.</span><span class=n>number_of_nodes</span><span class=p>()</span>

    <span class=n>edgewidth</span> <span class=o>=</span> <span class=p>[</span><span class=n>d</span><span class=p>[</span><span class=s2>&quot;weight&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=p>(</span><span class=n>u</span><span class=p>,</span> <span class=n>v</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span> <span class=ow>in</span> <span class=n>G</span><span class=o>.</span><span class=n>edges</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=kc>True</span><span class=p>)]</span>
    <span class=n>edgewidth</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>edgewidth</span><span class=p>)</span>
    <span class=n>edgewidth</span><span class=p>[</span><span class=n>edgewidth</span> <span class=o>&lt;</span> <span class=n>edge_threshold</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=n>labels</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=n>labels</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;1&quot;</span>
    <span class=n>labels</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;2&quot;</span>
    <span class=n>labels</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;3&quot;</span>
    <span class=n>labels</span><span class=p>[</span><span class=n>num_states</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>num_states</span><span class=p>)</span>

    <span class=n>npos</span> <span class=o>=</span> <span class=n>circular_layout</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s2>&quot;CW&quot;</span><span class=p>)</span>
    <span class=n>lpos</span> <span class=o>=</span> <span class=n>circular_layout</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mf>1.15</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s2>&quot;CW&quot;</span><span class=p>)</span>

    <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_edges</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>npos</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>0.8</span><span class=p>,</span> <span class=n>width</span><span class=o>=</span><span class=n>edgewidth</span> <span class=o>*</span> <span class=n>lw</span><span class=p>,</span> <span class=n>edge_color</span><span class=o>=</span><span class=n>ec</span><span class=p>)</span>

    <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_nodes</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>npos</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=n>node_size</span><span class=p>,</span> <span class=n>node_color</span><span class=o>=</span><span class=s2>&quot;k&quot;</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>0.8</span><span class=p>)</span>
    <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>gca</span><span class=p>()</span>
    <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_labels</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>lpos</span><span class=p>,</span> <span class=n>labels</span><span class=p>,</span> <span class=n>fontsize</span><span class=o>=</span><span class=mi>18</span><span class=p>,</span> <span class=n>ax</span><span class=o>=</span><span class=n>ax</span><span class=p>)</span>
    <span class=c1># fontsize does not seem to work :/</span>

    <span class=n>ax</span><span class=o>.</span><span class=n>set_aspect</span><span class=p>(</span><span class=s2>&quot;equal&quot;</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>ax</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=nelpy.plotting.graph.draw_transmat_graph_inner class="doc doc-heading"> <code class="highlight language-python"><span class=n>draw_transmat_graph_inner</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>edge_threshold</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>lw</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>ec</span><span class=o>=</span><span class=s1>&#39;0.2&#39;</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=mi>15</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Draw the inner part of a transition matrix as a circular graph.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>G</code> </td> <td> <code><span title=networkx.Graph>Graph</span></code> </td> <td> <div class=doc-md-description> <p>The graph to draw, with edge weights as transition probabilities.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>edge_threshold</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Edges with weights below this value are not drawn (default is 0).</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>lw</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Line width scaling for edges (default is 1).</p> </div> </td> <td> <code>1</code> </td> </tr> <tr class=doc-section-item> <td> <code>ec</code> </td> <td> <code><span title=color>color</span></code> </td> <td> <div class=doc-md-description> <p>Edge color (default is '0.2').</p> </div> </td> <td> <code>&#39;0.2&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>node_size</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Size of the nodes (default is 15).</p> </div> </td> <td> <code>15</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>ax</code></td> <td> <code><span title=matplotlib.axes.Axes>Axes</span></code> </td> <td> <div class=doc-md-description> <p>The axis with the graph plot.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>nelpy/plotting/graph.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span>
<span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span>
<span class=normal>70</span>
<span class=normal>71</span>
<span class=normal>72</span>
<span class=normal>73</span>
<span class=normal>74</span>
<span class=normal>75</span>
<span class=normal>76</span>
<span class=normal>77</span>
<span class=normal>78</span>
<span class=normal>79</span>
<span class=normal>80</span>
<span class=normal>81</span>
<span class=normal>82</span>
<span class=normal>83</span>
<span class=normal>84</span>
<span class=normal>85</span>
<span class=normal>86</span>
<span class=normal>87</span>
<span class=normal>88</span>
<span class=normal>89</span>
<span class=normal>90</span>
<span class=normal>91</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>draw_transmat_graph_inner</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>edge_threshold</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>lw</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>ec</span><span class=o>=</span><span class=s2>&quot;0.2&quot;</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=mi>15</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Draw the inner part of a transition matrix as a circular graph.</span>

<span class=sd>    Parameters</span>
<span class=sd>    ----------</span>
<span class=sd>    G : networkx.Graph</span>
<span class=sd>        The graph to draw, with edge weights as transition probabilities.</span>
<span class=sd>    edge_threshold : float, optional</span>
<span class=sd>        Edges with weights below this value are not drawn (default is 0).</span>
<span class=sd>    lw : float, optional</span>
<span class=sd>        Line width scaling for edges (default is 1).</span>
<span class=sd>    ec : color, optional</span>
<span class=sd>        Edge color (default is &#39;0.2&#39;).</span>
<span class=sd>    node_size : int, optional</span>
<span class=sd>        Size of the nodes (default is 15).</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    ax : matplotlib.axes.Axes</span>
<span class=sd>        The axis with the graph plot.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># num_states = G.number_of_nodes()</span>

    <span class=n>edgewidth</span> <span class=o>=</span> <span class=p>[</span><span class=n>d</span><span class=p>[</span><span class=s2>&quot;weight&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=p>(</span><span class=n>u</span><span class=p>,</span> <span class=n>v</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span> <span class=ow>in</span> <span class=n>G</span><span class=o>.</span><span class=n>edges</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=kc>True</span><span class=p>)]</span>
    <span class=n>edgewidth</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>edgewidth</span><span class=p>)</span>
    <span class=n>edgewidth</span><span class=p>[</span><span class=n>edgewidth</span> <span class=o>&lt;</span> <span class=n>edge_threshold</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=n>npos</span> <span class=o>=</span> <span class=n>circular_layout</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s2>&quot;CW&quot;</span><span class=p>)</span>

    <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_edges</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>npos</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>1.0</span><span class=p>,</span> <span class=n>width</span><span class=o>=</span><span class=n>edgewidth</span> <span class=o>*</span> <span class=n>lw</span><span class=p>,</span> <span class=n>edge_color</span><span class=o>=</span><span class=n>ec</span><span class=p>)</span>

    <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_nodes</span><span class=p>(</span><span class=n>G</span><span class=p>,</span> <span class=n>npos</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=n>node_size</span><span class=p>,</span> <span class=n>node_color</span><span class=o>=</span><span class=s2>&quot;k&quot;</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>1.0</span><span class=p>)</span>
    <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>gca</span><span class=p>()</span>
    <span class=n>ax</span><span class=o>.</span><span class=n>set_aspect</span><span class=p>(</span><span class=s2>&quot;equal&quot;</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>ax</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=nelpy.plotting.graph.draw_transmat_graph_outer class="doc doc-heading"> <code class="highlight language-python"><span class=n>draw_transmat_graph_outer</span><span class=p>(</span><span class=n>Go</span><span class=p>,</span> <span class=n>Gi</span><span class=p>,</span> <span class=n>edge_threshold</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>lw</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>ec</span><span class=o>=</span><span class=s1>&#39;0.2&#39;</span><span class=p>,</span> <span class=n>nc</span><span class=o>=</span><span class=s1>&#39;k&#39;</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=mi>15</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Draw the outer part of a transition matrix as a double circular graph.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>Go</code> </td> <td> <code><span title=networkx.Graph>Graph</span></code> </td> <td> <div class=doc-md-description> <p>The outer graph to draw.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>Gi</code> </td> <td> <code><span title=networkx.Graph>Graph</span></code> </td> <td> <div class=doc-md-description> <p>The inner graph for layout reference.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>edge_threshold</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Edges with weights below this value are not drawn (default is 0).</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>lw</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Line width scaling for edges (default is 1).</p> </div> </td> <td> <code>1</code> </td> </tr> <tr class=doc-section-item> <td> <code>ec</code> </td> <td> <code><span title=color>color</span></code> </td> <td> <div class=doc-md-description> <p>Edge color (default is '0.2').</p> </div> </td> <td> <code>&#39;0.2&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>nc</code> </td> <td> <code><span title=color>color</span></code> </td> <td> <div class=doc-md-description> <p>Node color (default is 'k').</p> </div> </td> <td> <code>&#39;k&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>node_size</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Size of the nodes (default is 15).</p> </div> </td> <td> <code>15</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>ax</code></td> <td> <code><span title=matplotlib.axes.Axes>Axes</span></code> </td> <td> <div class=doc-md-description> <p>The axis with the graph plot.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>nelpy/plotting/graph.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>draw_transmat_graph_outer</span><span class=p>(</span>
    <span class=n>Go</span><span class=p>,</span> <span class=n>Gi</span><span class=p>,</span> <span class=n>edge_threshold</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>lw</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>ec</span><span class=o>=</span><span class=s2>&quot;0.2&quot;</span><span class=p>,</span> <span class=n>nc</span><span class=o>=</span><span class=s2>&quot;k&quot;</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=mi>15</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Draw the outer part of a transition matrix as a double circular graph.</span>

<span class=sd>    Parameters</span>
<span class=sd>    ----------</span>
<span class=sd>    Go : networkx.Graph</span>
<span class=sd>        The outer graph to draw.</span>
<span class=sd>    Gi : networkx.Graph</span>
<span class=sd>        The inner graph for layout reference.</span>
<span class=sd>    edge_threshold : float, optional</span>
<span class=sd>        Edges with weights below this value are not drawn (default is 0).</span>
<span class=sd>    lw : float, optional</span>
<span class=sd>        Line width scaling for edges (default is 1).</span>
<span class=sd>    ec : color, optional</span>
<span class=sd>        Edge color (default is &#39;0.2&#39;).</span>
<span class=sd>    nc : color, optional</span>
<span class=sd>        Node color (default is &#39;k&#39;).</span>
<span class=sd>    node_size : int, optional</span>
<span class=sd>        Size of the nodes (default is 15).</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    ax : matplotlib.axes.Axes</span>
<span class=sd>        The axis with the graph plot.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># num_states = Go.number_of_nodes()</span>

    <span class=n>edgewidth</span> <span class=o>=</span> <span class=p>[</span><span class=n>d</span><span class=p>[</span><span class=s2>&quot;weight&quot;</span><span class=p>]</span> <span class=k>for</span> <span class=p>(</span><span class=n>u</span><span class=p>,</span> <span class=n>v</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span> <span class=ow>in</span> <span class=n>Go</span><span class=o>.</span><span class=n>edges</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=kc>True</span><span class=p>)]</span>
    <span class=n>edgewidth</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>edgewidth</span><span class=p>)</span>
    <span class=n>edgewidth</span><span class=p>[</span><span class=n>edgewidth</span> <span class=o>&lt;</span> <span class=n>edge_threshold</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=n>npos</span> <span class=o>=</span> <span class=n>double_circular_layout</span><span class=p>(</span><span class=n>Gi</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>direction</span><span class=o>=</span><span class=s2>&quot;CW&quot;</span><span class=p>)</span>

    <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_edges</span><span class=p>(</span><span class=n>Go</span><span class=p>,</span> <span class=n>npos</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>1.0</span><span class=p>,</span> <span class=n>width</span><span class=o>=</span><span class=n>edgewidth</span> <span class=o>*</span> <span class=n>lw</span><span class=p>,</span> <span class=n>edge_color</span><span class=o>=</span><span class=n>ec</span><span class=p>)</span>

    <span class=n>nx</span><span class=o>.</span><span class=n>draw_networkx_nodes</span><span class=p>(</span><span class=n>Go</span><span class=p>,</span> <span class=n>npos</span><span class=p>,</span> <span class=n>node_size</span><span class=o>=</span><span class=n>node_size</span><span class=p>,</span> <span class=n>node_color</span><span class=o>=</span><span class=n>nc</span><span class=p>,</span> <span class=n>alpha</span><span class=o>=</span><span class=mf>1.0</span><span class=p>)</span>

    <span class=n>ax</span> <span class=o>=</span> <span class=n>plt</span><span class=o>.</span><span class=n>gca</span><span class=p>()</span>
    <span class=n>ax</span><span class=o>.</span><span class=n>set_aspect</span><span class=p>(</span><span class=s2>&quot;equal&quot;</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>ax</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=nelpy.plotting.graph.graph_from_transmat class="doc doc-heading"> <code class="highlight language-python"><span class=n>graph_from_transmat</span><span class=p>(</span><span class=n>transmat</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Create a symmetric undirected graph from a transition matrix.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>transmat</code> </td> <td> <code><span title=array>array</span> - <span title=like>like</span></code> </td> <td> <div class=doc-md-description> <p>Transition matrix (2D square array).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>G</code></td> <td> <code><span title=networkx.Graph>Graph</span></code> </td> <td> <div class=doc-md-description> <p>The resulting symmetric graph.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>nelpy/plotting/graph.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>graph_from_transmat</span><span class=p>(</span><span class=n>transmat</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Create a symmetric undirected graph from a transition matrix.</span>

<span class=sd>    Parameters</span>
<span class=sd>    ----------</span>
<span class=sd>    transmat : array-like</span>
<span class=sd>        Transition matrix (2D square array).</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    G : networkx.Graph</span>
<span class=sd>        The resulting symmetric graph.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>G</span> <span class=o>=</span> <span class=n>nx</span><span class=o>.</span><span class=n>Graph</span><span class=p>()</span>
    <span class=n>num_states</span> <span class=o>=</span> <span class=n>transmat</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
    <span class=c1># make symmetric</span>
    <span class=n>tmat</span> <span class=o>=</span> <span class=p>(</span><span class=n>transmat</span> <span class=o>+</span> <span class=n>transmat</span><span class=o>.</span><span class=n>T</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>

    <span class=k>for</span> <span class=n>s1</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_states</span><span class=p>):</span>
        <span class=k>for</span> <span class=n>s2</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_states</span><span class=p>):</span>
            <span class=n>G</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>s1</span><span class=p>,</span> <span class=n>s2</span><span class=p>,</span> <span class=n>weight</span><span class=o>=</span><span class=n>tmat</span><span class=p>[</span><span class=n>s1</span><span class=p>,</span> <span class=n>s2</span><span class=p>])</span>

    <span class=k>return</span> <span class=n>G</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=nelpy.plotting.graph.inner_graph_from_transmat class="doc doc-heading"> <code class="highlight language-python"><span class=n>inner_graph_from_transmat</span><span class=p>(</span><span class=n>transmat</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Create an inner graph from a transition matrix, clearing the super diagonal.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>transmat</code> </td> <td> <code><span title=array>array</span> - <span title=like>like</span></code> </td> <td> <div class=doc-md-description> <p>Transition matrix (2D square array).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>G</code></td> <td> <code><span title=networkx.Graph>Graph</span></code> </td> <td> <div class=doc-md-description> <p>The resulting inner graph.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>nelpy/plotting/graph.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>inner_graph_from_transmat</span><span class=p>(</span><span class=n>transmat</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Create an inner graph from a transition matrix, clearing the super diagonal.</span>

<span class=sd>    Parameters</span>
<span class=sd>    ----------</span>
<span class=sd>    transmat : array-like</span>
<span class=sd>        Transition matrix (2D square array).</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    G : networkx.Graph</span>
<span class=sd>        The resulting inner graph.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>G</span> <span class=o>=</span> <span class=n>nx</span><span class=o>.</span><span class=n>Graph</span><span class=p>()</span>
    <span class=n>num_states</span> <span class=o>=</span> <span class=n>transmat</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
    <span class=c1># make symmetric</span>
    <span class=n>tmat</span> <span class=o>=</span> <span class=p>(</span><span class=n>transmat</span> <span class=o>+</span> <span class=n>transmat</span><span class=o>.</span><span class=n>T</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>

    <span class=c1># clear super diagonal</span>
    <span class=k>for</span> <span class=n>ii</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_states</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
        <span class=n>tmat</span><span class=p>[</span><span class=n>ii</span><span class=p>,</span> <span class=n>ii</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=k>for</span> <span class=n>s1</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_states</span><span class=p>):</span>
        <span class=k>for</span> <span class=n>s2</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_states</span><span class=p>):</span>
            <span class=n>G</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>s1</span><span class=p>,</span> <span class=n>s2</span><span class=p>,</span> <span class=n>weight</span><span class=o>=</span><span class=n>tmat</span><span class=p>[</span><span class=n>s1</span><span class=p>,</span> <span class=n>s2</span><span class=p>])</span>

    <span class=k>return</span> <span class=n>G</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=nelpy.plotting.graph.outer_graph_from_transmat class="doc doc-heading"> <code class="highlight language-python"><span class=n>outer_graph_from_transmat</span><span class=p>(</span><span class=n>transmat</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Create an outer graph from a transition matrix, connecting states to outer nodes.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>transmat</code> </td> <td> <code><span title=array>array</span> - <span title=like>like</span></code> </td> <td> <div class=doc-md-description> <p>Transition matrix (2D square array).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>G</code></td> <td> <code><span title=networkx.Graph>Graph</span></code> </td> <td> <div class=doc-md-description> <p>The resulting outer graph.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>nelpy/plotting/graph.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>outer_graph_from_transmat</span><span class=p>(</span><span class=n>transmat</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Create an outer graph from a transition matrix, connecting states to outer nodes.</span>

<span class=sd>    Parameters</span>
<span class=sd>    ----------</span>
<span class=sd>    transmat : array-like</span>
<span class=sd>        Transition matrix (2D square array).</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    G : networkx.Graph</span>
<span class=sd>        The resulting outer graph.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>G</span> <span class=o>=</span> <span class=n>nx</span><span class=o>.</span><span class=n>Graph</span><span class=p>()</span>
    <span class=n>num_states</span> <span class=o>=</span> <span class=n>transmat</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
    <span class=c1># make symmetric</span>
    <span class=n>tmat</span> <span class=o>=</span> <span class=p>(</span><span class=n>transmat</span> <span class=o>+</span> <span class=n>transmat</span><span class=o>.</span><span class=n>T</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>

    <span class=k>for</span> <span class=n>s1</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_states</span><span class=p>):</span>
        <span class=n>G</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span><span class=n>s1</span><span class=p>,</span> <span class=n>s1</span> <span class=o>+</span> <span class=n>num_states</span><span class=p>,</span> <span class=n>weight</span><span class=o>=</span><span class=n>tmat</span><span class=p>[</span><span class=n>s1</span><span class=p>,</span> <span class=n>s1</span><span class=p>])</span>  <span class=c1># self transitions</span>

    <span class=k>for</span> <span class=n>s1</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>num_states</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
        <span class=n>G</span><span class=o>.</span><span class=n>add_edge</span><span class=p>(</span>
            <span class=n>s1</span><span class=p>,</span> <span class=n>s1</span> <span class=o>+</span> <span class=n>num_states</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>weight</span><span class=o>=</span><span class=n>tmat</span><span class=p>[</span><span class=n>s1</span><span class=p>,</span> <span class=n>s1</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span>
        <span class=p>)</span>  <span class=c1># forward neighbor transitions</span>

    <span class=k>return</span> <span class=n>G</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=nelpy.plotting.graph.rescale_layout class="doc doc-heading"> <code class="highlight language-python"><span class=n>rescale_layout</span><span class=p>(</span><span class=n>pos</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return scaled position array to (-scale, scale) in all axes.</p> <p>The function acts on NumPy arrays which hold position information. Each position is one row of the array. The dimension of the space equals the number of columns. Each coordinate in one column.</p> <p>To rescale, the mean (center) is subtracted from each axis separately. Then all values are scaled so that the largest magnitude value from all axes equals <code>scale</code> (thus, the aspect ratio is preserved). The resulting NumPy Array is returned (order of rows unchanged).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>pos</code> </td> <td> <code><span title=numpy.ndarray>ndarray</span></code> </td> <td> <div class=doc-md-description> <p>Positions to be scaled. Each row is a position.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>scale</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>The size of the resulting extent in all directions (default is 1).</p> </div> </td> <td> <code>1</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>pos</code></td> <td> <code><span title=numpy.ndarray>ndarray</span></code> </td> <td> <div class=doc-md-description> <p>Scaled positions. Each row is a position.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>nelpy/plotting/graph.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>rescale_layout</span><span class=p>(</span><span class=n>pos</span><span class=p>,</span> <span class=n>scale</span><span class=o>=</span><span class=mi>1</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Return scaled position array to (-scale, scale) in all axes.</span>

<span class=sd>    The function acts on NumPy arrays which hold position information.</span>
<span class=sd>    Each position is one row of the array. The dimension of the space</span>
<span class=sd>    equals the number of columns. Each coordinate in one column.</span>

<span class=sd>    To rescale, the mean (center) is subtracted from each axis separately.</span>
<span class=sd>    Then all values are scaled so that the largest magnitude value</span>
<span class=sd>    from all axes equals `scale` (thus, the aspect ratio is preserved).</span>
<span class=sd>    The resulting NumPy Array is returned (order of rows unchanged).</span>

<span class=sd>    Parameters</span>
<span class=sd>    ----------</span>
<span class=sd>    pos : numpy.ndarray</span>
<span class=sd>        Positions to be scaled. Each row is a position.</span>
<span class=sd>    scale : float, optional</span>
<span class=sd>        The size of the resulting extent in all directions (default is 1).</span>

<span class=sd>    Returns</span>
<span class=sd>    -------</span>
<span class=sd>    pos : numpy.ndarray</span>
<span class=sd>        Scaled positions. Each row is a position.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># Find max length over all dimensions</span>
    <span class=n>lim</span> <span class=o>=</span> <span class=mi>0</span>  <span class=c1># max coordinate for all axes</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>pos</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>]):</span>
        <span class=n>pos</span><span class=p>[:,</span> <span class=n>i</span><span class=p>]</span> <span class=o>-=</span> <span class=n>pos</span><span class=p>[:,</span> <span class=n>i</span><span class=p>]</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
        <span class=n>lim</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>pos</span><span class=p>[:,</span> <span class=n>i</span><span class=p>]</span><span class=o>.</span><span class=n>max</span><span class=p>(),</span> <span class=n>lim</span><span class=p>)</span>
    <span class=c1># rescale to (-scale, scale) in all directions, preserves aspect</span>
    <span class=k>if</span> <span class=n>lim</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>pos</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>]):</span>
            <span class=n>pos</span><span class=p>[:,</span> <span class=n>i</span><span class=p>]</span> <span class=o>*=</span> <span class=n>scale</span> <span class=o>/</span> <span class=n>lim</span>
    <span class=k>return</span> <span class=n>pos</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "content.tabs.link", "navigation.footer", "navigation.indexes", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.instant.progress", "navigation.path", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.suggest", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../../assets/javascripts/bundle.50899def.min.js></script> </body> </html>